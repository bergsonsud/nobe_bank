<%= render 'composer/transactions/options' %>
<%= form_tag url_for(:controller => 'transactions', :action => @action_controller, :type_transaction => params[:type_transaction]), :method => 'post' do  %>

<h3><%=@transaction_name%></h3>

      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s8">
            <%= text_field_tag 'value','0.0', class: 'validate value', autofocus: true %>
              <label for="#value" data-error="wrong" data-success="right">Quanto você deseja <%=@transaction_type%>?</label>
            </div>
          </div>

          <div class="row">
            <div class="input-field col s8">
            <%= text_field_tag 'date',Time.zone.now.strftime("%d/%m/%Y"), :class => 'datepicker' %>
            <label class="active">Data</label>
            </div>
          </div>

          <div class="row <%= params[:type_transaction] == '3' ? "" : "hidden" %>">
            <div class="input-field col s12">
            <%= text_field_tag 'description','', class: 'validate' %>
              <label for="#description" data-error="wrong" data-success="right">Descrição</label>
            </div>
          </div>
        </form>
        <%= submit_tag 'Efetuar', :class => 'col s6 btn btn-large waves-effect indigo'%>
      </div>



<%end%>


<script type="text/javascript">
  $(function() {
    $('.value').maskMoney();
  });
  $(document).ready(function(){
   var diaSemana = [ 'Domingo', 'Segunda-Feira', 'Terca-Feira', 'Quarta-Feira', 'Quinta-Feira', 'Sexta-Feira', 'Sabado' ];
   var mesAno = [ 'Janeiro', 'Fevereiro', 'Marco', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro'           , 'Dezembro' ];
   var data = new Date();
   var hoje = diaSemana[data.getDay()] + ', ' + mesAno[data.getMonth()] + ' de ' + data.getFullYear();

    $('.datepicker').datepicker({
      i18n: {
      months: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
      monthsShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
      weekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sabádo'],
      weekdaysShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],
      weekdaysAbbrev: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
      today: 'Hoje',
      clear: 'Limpar',
      cancel: 'Sair',
      done: 'Confirmar',
      labelMonthNext: 'Próximo mês',
      labelMonthPrev: 'Mês anterior',
      labelMonthSelect: 'Selecione um mês',
      labelYearSelect: 'Selecione um ano',
      selectMonths: true,
      selectYears: 15,
    },
     format: 'dd/mm/yyyy'   });
  });

</script>
